# 第一部分 基础知识

## 第一章 面向对象的JavaScript

编程语言按照数据类型大体可以分为两类，一类是静态类型语言，另一类是动态类型语言。

在 JavaScript 中，当我们对一个变量赋值时，显然不需要考虑它的类型，因此，JavaScript是一门典型的动态类型语言。

在静态类型语言中，要实现“面向接口编程”并不是一件容易的事情，往往要通过抽象类或 者接口等将对象进行向上转型。当对象的真正类型被隐藏在它的超类型身后，这些对象才能在类 型检查系统的“监视”之下互相被替换使用。只有当对象能够被互相替换使用，才能体现出对象 多态性的价值。

例如，一个对象若有 push 和 pop 方法，并且这些方法提供了正确的实现，它就 可以被当作栈来使用。一个对象如果有 length 属性，也可以依照下标来存取属性(最好还要拥 有 slice 和 splice 等方法)，这个对象就可以被当作数组来使用。

但在 JavaScript 语言中，“面向接口编程”的 过程跟主流的静态类型语言不一样，因此，在 JavaScript 中实现设计模式的过程与在一些我们熟 悉的语言中实现的过程会大相径庭。

**多态的实际含义是:同一操作作用于不同的对象上面，可以产生不同的解释和不同的执行结 果。换句话说，给不同的对象发送同一个消息的时候，这些对象会根据这个消息分别给出不同的 反馈。**

多态背后的思想是将“做什么”和“谁去做以及怎样去做”分离开来，也就是将“不变的事 物”与 “可能改变的事物”分离开来。

看看下面这个例子

> 主人家里养了两只动物，分别是一只鸭和一只鸡，当主人向它们发出“叫”的命令 时，鸭会“嘎嘎嘎”地叫，而鸡会“咯咯咯”地叫。这两只动物都会以自己的方式来发 出叫声。它们同样“都是动物，并且可以发出叫声”，但根据主人的指令，它们会各自 发出不同的叫声。

```
var makeSound = function( animal ){ if ( animal instanceof Duck ){
var Duck = function(){}; 
var Chicken = function(){};
makeSound( new Duck() ); 
makeSound( new Chicken() );
```

