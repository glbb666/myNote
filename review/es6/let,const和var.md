### å—çº§ä½œç”¨åŸŸ

`let`ï¼Œ`const`æ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨`let`ï¼Œ`const`å‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆã€‚

`var`æ²¡æœ‰å—çº§ä½œç”¨åŸŸ

```javascript
{
  let a = 10;
  var b = 1;
}
a // ReferenceError: a is not defined.
b // 1
```
### forå¾ªç¯

é—­åŒ…æœ‰ä¸€ä¸ªç¼ºé™·ï¼š**é—­åŒ…åªèƒ½å–åˆ°åŒ…å«å‡½æ•°ä¸­ä»»ä½•å˜é‡çš„æœ€åä¸€ä¸ªå€¼**

```javascript
var a = [];
for (var i = 0; i < 10; i++) {
  a[i] = function () {
    console.log(i);
  };
}
a[6](); // 10

var a = [];
for (let i = 0; i < 10; i++) {
  a[i] = function () {
    console.log(i);
  };
}
a[6](); // 6
```

åŒºåˆ«ï¼š

varï¼šiæ˜¯å…¨å±€å˜é‡ï¼ŒåŒ…å«åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œé—­åŒ…å–å¾—çš„ä¹Ÿæ˜¯iæœ€åè¢«ä¿®æ”¹çš„å€¼

letï¼šæ¯ä¸€æ¬¡å¾ªç¯éƒ½ä¼šåœ¨ä¸€ä¸ª**æ–°çš„ä½œç”¨åŸŸ**ä¸­**é‡æ–°å£°æ˜ä¸€ä¸ªiå˜é‡**ï¼Œå¹¶ä¸”åœ¨**ä¸Šä¸€è½®çš„åŸºç¡€**ä¸Šå¯¹iè¿›è¡Œ**åˆå§‹åŒ–**

âœ¨ç‰¹åˆ«ï¼šè®¾ç½®å¾ªç¯å˜é‡çš„é‚£éƒ¨åˆ†æ˜¯ä¸€ä¸ªçˆ¶ä½œç”¨åŸŸï¼Œè€Œå¾ªç¯ä½“å†…éƒ¨æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­ä½œç”¨åŸŸã€‚

```javascript
for (let i = 0; i < 3; i++) {
  let i = 'abc';
  console.log(i);
}
// abc
// abc
// abc
```
### å˜é‡æå‡

`let`å’Œ`const`æ²¡æœ‰å˜é‡æå‡

- var åœ¨å£°æ˜ä¹‹å‰å¯ä»¥è¢«è®¿é—®ï¼Œå€¼ä¸º`undefined`ã€‚
- letã€conståœ¨å£°æ˜ä¹‹å‰è®¿é—®ä¼šæŠ¥é”™ï¼ˆåŒ…æ‹¬typeofï¼‰
### æš‚æ—¶æ€§æ­»åŒº

ğŸ’¥æ³¨æ„ï¼šæš‚æ—¶æ€§æ­»åŒºå’Œæ²¡æœ‰å˜é‡æå‡ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿

â€œæš‚æ—¶æ€§æ­»åŒºâ€ï¼ˆ**TDZ**ï¼‰æ˜¯æŒ‡ï¼šå¦‚æœå—çº§ä½œç”¨åŸŸä¸­ç”¨`let`å’Œ`const`å‘½ä»¤å£°æ˜çš„å˜é‡ä¼š**ç»‘å®šä½œç”¨åŸŸ**ï¼Œè®©ä½œç”¨åŸŸå˜æˆå°é—­ä½œç”¨åŸŸã€‚å°é—­ä½œç”¨åŸŸä¸­ï¼Œå‡¡æ˜¯åœ¨å£°æ˜ä¹‹å‰å°±ä½¿ç”¨è¿™äº›å˜é‡ï¼ˆåŒ…æ‹¬`typeof`ï¼‰ï¼Œå°±ä¼šæŠ¥é”™ã€‚

```javascript
var tmp = 123;

if (true) {
  tmp = 'abc'; // ReferenceError
  let tmp;
}
```

### é‡å¤å£°æ˜

`let`ï¼Œ`const`ä¸å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸå†…ï¼Œé‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡ã€‚

`var`å¯å¤šæ¬¡å£°æ˜

`const`ä¸€æ—¦å£°æ˜å˜é‡ï¼Œå°±å¿…é¡»ç«‹å³åˆå§‹åŒ–

ğŸ’¥æ³¨æ„ï¼š`const`å®é™…ä¸Šä¿è¯çš„æ˜¯å˜é‡æŒ‡å‘çš„æ ˆå†…å­˜æ‰€ä¿å­˜çš„æ•°æ®ä¸å¾—æ”¹åŠ¨ã€‚ç®€å•ç±»å‹çš„æ•°æ®å€¼å°±ä¿å­˜åœ¨æ ˆå†…å­˜ä¸­ï¼Œä½†å¼•ç”¨ç±»å‹çš„æ ˆå†…å­˜å†…ä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡å‘å †å†…å­˜ä¸­å®é™…æ•°æ®çš„æŒ‡é’ˆï¼Œ`const`åªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼Œä¸èƒ½ä¿è¯å †å†…å­˜ä¸­çš„æ•°æ®ç»“æ„ä¸å˜ã€‚

è§£å†³æ–¹æ³•ï¼š`Object.freeze`é€’å½’ï¼Œå†»ç»“å¯¹è±¡ã€‚

```javascript
const foo = {};

// ä¸º foo æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œå¯ä»¥æˆåŠŸ
foo.prop = 123;
foo.prop // 123

// å°† foo æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¼šæŠ¥é”™
foo = {}; // TypeError: "foo" is read-only
```

### å…¨å±€å£°æ˜åŒºåˆ«

- å…¨å±€`var`å£°æ˜ï¼Œæˆä¸º`Global(window)`å±æ€§ã€‚å…·æœ‰è¦†ç›–æ€§
- `let const`å£°æ˜çš„å˜é‡ä¿å­˜åœ¨åä¸ºScriptçš„ä½œç”¨åŸŸä¸­