### DNS（D**omain **N**ame **System）是什么

**域名系统**，将方便用户记忆的域名地址转换为数字串[IP](https://developer.mozilla.org/en-US/docs/Glossary/IP_address)，从而在因特网[Internet](https://developer.mozilla.org/en-US/docs/Glossary/Internet) 或者私有网络上找到特定的机器。它作为将[域名](https://zh.wikipedia.org/wiki/域名)和[IP地址](https://zh.wikipedia.org/wiki/IP地址)相互[映射](https://zh.wikipedia.org/wiki/映射)的一个[分布式数据库](https://zh.wikipedia.org/wiki/分布式数据库)。

### DNS的常见用法

将服务器名称和 IP 地址进行关联，将邮件地址和邮件服务器进行关联,以及为各种信息关联相应的名称。

### 为什么要转换成IP地址

TCP/IP 网络是通过 IP 地址来确定通信对象的，不知道 IP 地址就无法将消息发送给对方，因此，在委托操作系统发送消息时，必须要先查询好对方 的 IP 地址。

### 域名和 IP 地址并用的理由

- 不用IP 地址，而是用域名来确定通信对象?
  IP 地址的长度 为 32 比特（ 4 字节），使用域名最少也要几十个字节，最长可达到255字节，**增加了路由器的负担**,传送数据也会花费更长的时间 ，运行效率较低。（路由转发包传输数据）
- 浏览器网址中不写服务器的名字，直接写IP 地址?
  用IP地址来代替服务器名称也是能够正常工作的 。然而，要**记住 IP 地址非常困难**
- 让人来使用名称,让路由器来使用IP地址。
  为了填补两者之间的障碍,需要有一个机制能够通过名称来查询IP地址,或者通过IP 地址来查询名称,这个机制就是DNS

### DNS解析（迭代查询和递归查询）

- 浏览器搜索自己的 DNS 缓存。
- 在浏览器缓存中没找到，就在操作系统缓存中查找，这一步中也会查找本机的 hosts 看看有没有对应的域名映射。
- 在系统中也没有的话，就到你的路由器来查找，因为路由器一般也会有自己的 DNS 缓存。
- 若没有，则操作系统将域名发送至 本地域名服务器——递归查询方式，本地域名服务器 查询自己的 DNS 缓存，查找成功则返回结果，否则，采用迭代查询方式。本地域名服务器一般都是你的网络接入服务器商提供，比如中国电信，中国移动。
- 本地域名服务器 将得到的 IP 地址返回给操作系统，同时自己也将 IP 地址缓存起来。
- 操作系统将 IP 地址返回给浏览器，同时自己也将 IP 地址缓存起来，以备下次别的用户查询时，可以直接返回结果，加快网络访问。
- 至此，浏览器已经得到了域名对应的 IP 地址。