### 背景

当用户的数据过多，分页的时候无法全部拉完。但是用户又想进行“真全选"，而不是仅对当前拉到的数据进行操作的一种解法。

### 做法

- dataArray：端的数据列表
- checkAllFlag：真全选标识，默认为false
- selectArray：已选择列表，默认为[]
- unSelectArray：未选择列表，默认为[]

### 显示UI

#### 全选按钮

未被选中状态：显示全选

被选中状态：显示取消全选

选中状态的条件：

- 真全选标识  === true，需要反选列表里没有值
- 真全选标识 === false，需要当前端的全部项被选中

#### 列表（带是否选中的按钮）

### 用户行为及其对数据的影响

- 如果用户直接进行选择，启用已选择列表。

  - 如果用户手动选中（一个一个选）了当前端的所有，会选中全选按钮，但是不会置真全选标识为true。
    - 在这种情况下，如果用户下拉更多，全选按钮会被取消，因为已经不满足checkAllFlag为false时选中的条件。
    - 在这种情况下，如果用户取消了其中一项，那么就会从已选择列表中删除该项目，同时取消全选按钮的选中状态，理由同上。
    - 在这种情况下，如果用户点击取消全选，会清除选中列表。
- 如果用户点击全选按钮，真全选会置为true。此刻会清空选中列表，启用反选列表。

  - 在这种情况下，如果用户取消了其中一项，用户取消的值就会进入反选列表，同时取消全选按钮的选中状态。
    - 在取消了一项的情况下，如果用户下拉更多，从服务那边拉取过来的值依然会被值为选中状态，因为真全选没有被取消。能取消真全选的操作就是再把取消的那一项选中，让全选按钮呈现选中状态，点击取消全选，就可以把真全选取消掉。
    - 在取消了一项的情况下，如果用户把取消的项目选中，反选列表会移除这个选中项目。
  - 在这种情况下，如果用户下拉更多，从服务那边拉取过来的值会被置为选中状态。
- 如果用户点击取消全选按钮，真全选会置为false。此刻会清空选中列表和反选列表。

### 特殊处理

旧版本的兼容问题，之前已经设置了值，需要怎么显示。

之前已经设置了值，必然是没有真全选标识的，所以不是真全选状态。

所以是启用已选列表。
