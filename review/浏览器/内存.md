# **是什么**

内存缓存是指在程序运行过程中，将数据存储在内存中以便快速访问的缓存策略。相对于其他类型的缓存（如磁盘缓存、网络缓存），内存缓存具有极快的读写速度，适合用于存储那些频繁访问的数据，以减少重复计算或数据请求的开销。

内存缓存主要用于短期存储，不适合长期保存数据，因为它是**非持久性**的，数据在应用关闭或浏览器刷新时会被清除。

# **存储在哪里**

* **浏览器环境** ：存储在 JavaScript 运行时的堆内存中。
* **服务端环境** ：在 Node.js 等服务端运行环境中，内存缓存可能通过全局变量、`Map` 或 `Set` 等数据结构来实现，或者使用一些专门的缓存库（如 `lru-cache`）。

# 内存缓存的生命周期

* **页面的生命周期** ：内存缓存通常只存在于当前页面加载周期内。当用户关闭或刷新页面时，内存缓存会被清除。
* **JavaScript 引擎的内存管理** ：浏览器的 JavaScript 引擎会通过垃圾回收机制管理内存，当某些内存不再被引用时，垃圾回收机制会清除这些内存。
* **浏览器资源限制** ：浏览器有一定的内存限制。浏览器可能会因为内存紧张而清理掉内存中的缓存数据。如果浏览器检测到页面占用过多内存，可能会清理部分内存缓存以释放资源。

# **过期管理**

内存缓存数据由于其短期性，需要通过**手动管理**来实现过期机制。常见的过期管理方式有：

* **基于时间的过期** ：
* 为每个缓存数据设置过期时间（TTL，Time to Live），一旦超过该时间，缓存即视为无效。
* 可以通过**时间戳**记录缓存插入时间，随后在访问时检查时间戳是否已超出设定的 TTL。

   **示例** ：

# 内存缓存的溢出
