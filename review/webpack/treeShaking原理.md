**1. 静态导入和导出** ： ES6 模块系统允许使用 `import` 和 `export` 语句来明确地声明模块之间的依赖关系。与 CommonJS 的 `require` 和 `<a>module.exports</a>` 相比，ES6 模块的导入和导出是在编译时确定的，这意味着构建工具可以在构建阶段分析这些依赖关系。

**2. 确定性分析** ： 构建工具（如 Webpack、Rollup 等）可以通过分析模块的导入和导出语句来确定哪些代码路径是实际被使用的。例如，如果一个模块被导入但没有任何属性被使用，或者一个模块的某个导出从未被引用，那么这部分代码可以被认为是未使用的。

**3. 模块分析** ： 构建工具会遍历整个模块依赖树，从入口点开始，递归地分析每个模块的导入和导出，构建一个依赖图谱。

**4. 副作用检测** ： 为了安全地移除未使用的代码，构建工具需要能够检测代码是否有副作用。如果一个模块或代码段有副作用（如修改全局状态、注册事件监听器等），那么即使它没有被直接引用，也不能被移除，因为它可能对应用程序的运行时行为有影响。

Tree Shaking 的效果受到多种因素的影响，包括代码的结构、模块化程度、是否使用了动态导入等。为了最大化 Tree Shaking 的效果，开发者应遵循最佳实践，如使用 ES6 模块、避免不必要的副作用、合理组织代码结构等。
