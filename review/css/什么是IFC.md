### 概念

- **行内级元素**：`inline-level element`，`display` 为 `inline`、`inline-block`、`inline-table` 的元素。与块级元素一样，元素是否是行内级元素仅是元素本身的属性，并不直接用于格式化上下文的创建或布局。

  不可设置宽高，不可以包含块级元素，可以与其他行内元素位于同一行。高度一般由元素内部的字体大小决定，宽度由内容的长度控制。

- **行内级盒子**：`inline-level box`，由行内级元素生成。行内级盒子包括行内盒子和原子行内级盒子两种，区别在于该盒子是否参与行内格式化上下文的创建。

- **行内盒子**：`inline box`，参与行内格式化上下文创建的行内级盒子称为行内盒子。与块盒子类似，行内盒子也分为具名行内盒子和匿名行内盒子两种。

- **原子行内级盒子**：`atomic inline-level box`，不参与行内格式化上下文创建的行内级盒子。原子行内级盒子一开始叫做原子行内盒子（`atomic inline box`），后被修正。原子行内级盒子的内容不会拆分成多行显示。

### 什么是`IFC`?

行内级格式化上下文。在一个**块级元素**中**<font color='red'>仅包含内联级别元素</font>**时才会生成。 

### 布局规则

对于内部盒子

- 水平方向：依次放置，**会考虑它们水平方向上的 padding、border、margin 所占空间**
- 垂直方向：起点从包含块的顶部开始，这些框可能会有不同的对齐方式(vertical-align)
- **行框**：能把在一行上的框都完全包含进去的一个矩形区域
	- **宽度**：行框一般贴紧其包含块，但float 元素会位于`IFC`与行框之间，使行框宽度缩短。
	- **高度**：其包含行内元素中**最高的实际高度**计算而来（不受到竖直方向的padding/margin影响)
- `IFC` 中的行内盒高度由 `CSS` 行高计算规则来确定，同个 `IFC` 下的多个行内盒高度可能会不同
- 当行内级盒子的总宽度少于包含它们的行内盒时，其水平渲染规则由 text-align 属性来确定，如果取值为 justify，那么浏览器会对 `inline-boxes`（注意不是`inline-table` 和` inline-block boxes`）中的文字和空格做出拉伸。
- 当一个行内盒子超过行框的宽度时，它会被分割成多个`boxes`，这些` boxes` 被分布在多个行框里。如果一个 行内盒不能被分割（比如只包含单个字符，或 `word-breaking `机制被禁用，或该行内框受 `white-space `属性值为 `nowrap` 或 `pre `的影响），那么这个行内盒将溢出行框。

### 应用

**水平居中**：当一个块要在环境中水平居中时，设置其为` inline-block `则会在外层产生` IFC`，通过设置父容器 `text-align:center `则可以使其水平居中。

> 设置一个块为 `inline-block `，以单个封闭块来参与外部的 `IFC`，而内部则生成了一个` BFC`。

**垂直居中**：创建一个`IFC`，用其中一个元素撑开父元素的高度，然后设置其 `vertical-align:middle`，其他行内元素则可以在此父元素下垂直居中。

- `GFC`：网格布局格式化上下文（display: grid）
- `FFC`：自适应格式化上下文（display: flex）

