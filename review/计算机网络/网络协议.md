### 网络体系结构

#### osi七层体系结构

国际化标准组织定义，不考虑成本问题，兼顾各个厂家各个应用的需求。因为太复杂，没有厂家使用，成为理论上的标准。

<img src="images/BEDA610C86E9A1EE51B4CF2CCB62EB7D.png" alt="BEDA610C86E9A1EE51B4CF2CCB62EB7D" style="zoom:50%;" />

##### TCP/IP协议

网络事实上的标准

![722999437CF5FBF2EAE133797A57443C](images/722999437CF5FBF2EAE133797A57443C.png)

**五层协议**

我们把osi七层协议和tcp/ip协议中和一下，就成为了五层协议。

<img src="images/A2845559CB93A6422A63CC8A67AF34E3.png" alt="A2845559CB93A6422A63CC8A67AF34E3" style="zoom:67%;" />

| 所属层     | 传输数据单元 | 代表协议                                                     | 作用                                                         |
| ---------- | ------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 应用层     | 报文         | Http(超文本传输协议)，dns（域名系统），ftp(文件传输)，smtp(简单邮件传输协议) | 通过应用进程间的交互来完成特定网络应用。                     |
| 传输层     | 报文         | TCP，UDP                                                     | 负责向两台主机进程之间的通信提供通用的数据传输服务。         |
| 网络层     | IP数据包     | IP                                                           | 负责为分组交换网上的不同主机提供通信服务。在发送数据时，网络层把传输层产生的报文段或用户数据报封装成分组和包进行传送。在TCP/IP体系结构中，由于网络层使用IP协议，因此分组也叫**IP数据报**，简称**数据报**。 |
| 数据链路层 | 帧           |                                                              | 负责两台主机之间的数据传输。**数据链路层将网络层交下来的IP数据报组装程帧**，在两个相邻节点间的链路上传送帧。每一帧包括数据和必要的控制信息。 |
| 物理层     | 比特         |                                                              | 实现相邻计算机节点间数据的透明传送。尽可能屏蔽掉具体传输介质和物理设备的差异。使据链路层不必考虑网络的具体传输介质是什么。 |

#### 水平协议和垂直服务

**对等层实体**：两个端之间的相同层

**相邻层实体**：同一个端系统中相邻的层

**协议的通信**：对等层实体的通信

**服务**：相邻层实体的访问，低层为高层提供服务

**协议访问的一方：**服务的消费者

**协议被访问的一方：**服务的提供者

> 协议的调用不建议跨层。协议只能在本端系统中调用（协议是函数，计算机网络的端系统是自治的）。

![1CBB3534863FDEFA764FE741BF537B0F](images/1CBB3534863FDEFA764FE741BF537B0F.jpg)

### 网络协议

为进行网络中的数据交换而建立的规则，标准或约定称为网络协议

#### 网络协议三要素

- 语法：数据与控制信息的结构和格式
- 语义：发出何种信息，完成何种动作以及做出何种响应
- 定时：事件实现顺序的详细说明

<font color='red'>网络系统的数据通信由协议来支撑</font>

### 分层

优点：

- 简化系统设计
- 模块易于维护
- 系统的更新成本和效率

缺点：

- 信息冗余，降低性能
- 层次的划分难以确定
- 协议首部越来越大

#### 分层要点

- 网络功能模块化，取出不同网络应用之间以及网络应用与网络技术之间的紧密耦合，让层和层之间透明（互相不关联，松耦合）
- 端到端原则，把关键功能作为模块独立

### 参考

[搞定计算机网络面试，看这篇就够了](https://juejin.im/post/5b5f20686fb9a04f844adbdd)

