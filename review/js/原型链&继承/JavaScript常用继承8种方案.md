## 1.åŸå‹é“¾ç»§æ‰¿

åšæ³•ï¼šçˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»åŸå‹ï¼Œæ–¹æ³•å†™åœ¨çˆ¶ç±»åŸå‹ä¸Š

ç¼ºç‚¹ï¼š

- å­ç±»å®ä¾‹å…±äº«çˆ¶ç±»å®ä¾‹çš„å¼•ç”¨ç±»å‹å€¼ï¼Œå­˜åœ¨ç¯¡æ”¹çš„å¯èƒ½
- åˆ›å»ºå­ç±»æ— æ³•å‘çˆ¶ç±»ä¼ å‚

```javascript
function Parent () {
    this.name = 'kevin';
}
Parent.prototype.getName = function () {
    console.log(this.name);
}
function Child () {
}
Child.prototype = new Parent();
var child1 = new Child();
console.log(child1.getName()) // kevin
```

## 2.å€Ÿç”¨æ„é€ å‡½æ•°(ç»å…¸ç»§æ‰¿)

åšæ³•ï¼šå­ç±»ç”¨`call`è°ƒç”¨çˆ¶ç±»

ä¼˜ç‚¹ï¼šåŸå‹é“¾æ¨¡å¼çš„ç¼ºç‚¹ï¼ˆ1ã€å¼•ç”¨ç±»å‹ä¸è¢«å®ä¾‹å…±äº«2ã€å­ç±»å¯å‘çˆ¶ç±»ä¼ å‚ï¼‰

ç¼ºç‚¹ï¼š

- æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œæ¯æ¬¡åˆ›å»ºå®ä¾‹éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ï¼Œæ²¡æœ‰å‡½æ•°å¤ç”¨ã€‚
- åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿çˆ¶ç±»çš„åŸå‹å±æ€§å’Œæ–¹æ³•ã€‚

```javascript
function Parent () {
    this.names = ['kevin', 'daisy'];
}
function Child () {
    Parent.call(this);
}
var child1 = new Child();
child1.names.push('yayu');
console.log(child1.names); // ["kevin", "daisy", "yayu"]
var child2 = new Child();
console.log(child2.names); // ["kevin", "daisy"]
```

## 3.ç»„åˆç»§æ‰¿

åŸå‹é“¾ç»§æ‰¿å’Œç»å…¸ç»§æ‰¿åŒå‰‘åˆç’§ã€‚

åšæ³•ï¼š1.çˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»åŸå‹ï¼Œæ–¹æ³•å†™åœ¨çˆ¶ç±»åŸå‹ä¸Š2.å­ç±»ç”¨`call`è°ƒç”¨çˆ¶ç±»

ç¼ºç‚¹ï¼šçˆ¶ç±»è°ƒç”¨ä¸¤éï¼Œå­ç±»åŸå‹æœ‰å†—ä½™å±æ€§

```javascript
function Parent (name) {
    this.name = name;
    this.colors = ['red', 'blue', 'green'];
}
Parent.prototype.getName = function () {
    console.log(this.name)
}
function Child (name, age) {
    Parent.call(this, name);
    this.age = age;
}
Child.prototype = new Parent();
Child.prototype.constructor = Child;
var child1 = new Child('kevin', '18');
child1.colors.push('black');
console.log(child1.name); // kevin
console.log(child1.age); // 18
console.log(child1.colors); // ["red", "blue", "green", "black"]
var child2 = new Child('daisy', '20');
console.log(child2.name); // daisy
console.log(child2.age); // 20
console.log(child2.colors); // ["red", "blue", "green"]
```

## 4.åŸå‹å¼ç»§æ‰¿

åšæ³•ï¼šä¼ å…¥ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‡½æ•°å®ä¾‹çš„åŸå‹ã€‚

```javascript
function createObj(o) {
    function F(){}
    F.prototype = o;
    return new F();
}
```

ç¼ºç‚¹ï¼š

è·ŸåŸå‹é“¾ç»§æ‰¿ä¸€æ ·

- å¤šä¸ªå®ä¾‹å¼•ç”¨ç±»å‹çš„æŒ‡å‘ç›¸åŒï¼Œå­˜åœ¨ç¯¡æ”¹çš„å¯èƒ½
- å­ç±»æ— æ³•å‘çˆ¶ç±»ä¼ å‚

## 5. å¯„ç”Ÿå¼ç»§æ‰¿

ä½œç”¨ï¼šåœ¨åŸå‹å¼ç»§æ‰¿çš„åŸºç¡€ä¸Šå¢å¼ºå¯¹è±¡

åšæ³•ï¼š1.åŸºäºåŸæœ‰çš„å¯¹è±¡åˆ›é€ æ–°å¯¹è±¡2.ç»™æ–°å¯¹è±¡æ·»åŠ æ–¹æ³•

```javascript
function createObj (o) {
    var clone = Object.create(o);
    clone.sayName = function () {
        console.log('hi');
    }
    return clone;
}
```

ç¼ºç‚¹ï¼š

è·Ÿå€Ÿç”¨æ„é€ å‡½æ•°æ¨¡å¼ä¸€æ ·

- æ¯æ¬¡åˆ›å»ºå¯¹è±¡éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•

è·ŸåŸå‹å¼ç»§æ‰¿ä¸€æ ·

- å¤šä¸ªå®ä¾‹å¼•ç”¨ç±»å‹çš„æŒ‡å‘ç›¸åŒï¼Œå­˜åœ¨ç¯¡æ”¹çš„å¯èƒ½
- å­ç±»æ— æ³•å‘çˆ¶ç±»ä¼ å‚

## 6. å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿

å¯„ç”Ÿç»„åˆç»§æ‰¿=åŸå‹å¼ç»§æ‰¿+ç»„åˆå¼ç»§æ‰¿

ç›®çš„ï¼šä¸ºäº†è§£å†³ç»„åˆç»§æ‰¿ä¸­çˆ¶ç±»è¢«è°ƒç”¨ä¸¤æ¬¡(1.åœ¨å­ç±»ä¸­è°ƒç”¨çˆ¶ç±»2.æŠŠçˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»åŸå‹)

æƒ³æ³•ï¼šå…¶å®æˆ‘ä»¬æƒ³è¦çš„åªæ˜¯çˆ¶ç±»çš„åŸå‹ä¸Šçš„æ–¹æ³•

åšæ³•ï¼šç”¨å¯„ç”Ÿå¼ç»§æ‰¿å¯¹ç»„åˆç»§æ‰¿è¿›è¡Œä¼˜åŒ–(åˆ›å»ºçˆ¶ç±»å’Œå­ç±»çš„ä¸­é—´å±‚)

ç»„åˆç»§æ‰¿æœ€å¤§çš„ç¼ºç‚¹æ˜¯ä¼šè°ƒç”¨ä¸¤æ¬¡çˆ¶æ„é€ å‡½æ•°ã€‚

```javascript
function Parent (name) {
    this.name = name;
    this.colors = ['red', 'blue', 'green'];
}
Parent.prototype.getName = function () {
    console.log(this.name)
}
function Child (name, age) {
    Parent.call(this, name);
    this.age = age;
}
Child.prototype = new Parent()//ç¬¬ä¸€æ¬¡æ˜¯è®¾ç½®å­ç±»å‹å®ä¾‹çš„åŸå‹çš„æ—¶å€™
var child1 = new Child('kevin', '18');//ç¬¬äºŒæ¬¡åœ¨åˆ›å»ºå­ç±»å‹å®ä¾‹çš„æ—¶å€™
console.log(child1)
```

æ‰€ä»¥ï¼Œ`Child.prototype` å’Œ `child1` éƒ½æœ‰ä¸€ä¸ªå±æ€§ä¸º`colors`ï¼Œå±æ€§å€¼ä¸º`['red', 'blue', 'green']`ã€‚

ä¸ºäº†é¿å…è¿™ä¸€æ¬¡é‡å¤è°ƒç”¨ï¼Œæˆ‘ä»¬ä¸ä½¿ç”¨ Child.prototype = new Parent() ï¼Œè€Œæ˜¯é—´æ¥çš„è®© Child.prototype è®¿é—®åˆ° Parent.prototype

çœ‹çœ‹å¦‚ä½•å®ç°ï¼š

```javascript
function Parent (name) {
    this.name = name;
    this.colors = ['red', 'blue', 'green'];
}

Parent.prototype.getName = function () {
    console.log(this.name)
}

function Child (name, age) {
    Parent.call(this, name);
    this.age = age;
}

// å…³é”®çš„ä¸‰æ­¥
var F = function () {};

F.prototype = Parent.prototype;

Child.prototype = new F();


var child1 = new Child('kevin', '18');

console.log(child1);
```

æœ€åæˆ‘ä»¬å°è£…ä¸€ä¸‹è¿™ä¸ªç»§æ‰¿æ–¹æ³•ï¼š

```javascript
function object(o) {
    function F() {}
    F.prototype = o;
    return new F();
}

function prototype(child, parent) {
    var prototype = object(parent.prototype);
    prototype.constructor = child;
    child.prototype = prototype;
}

// å½“æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™ï¼š
prototype(Child, Parent);
```

å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿åªè°ƒç”¨äº†ä¸€æ¬¡ Parent æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”å› æ­¤**é¿å…äº†åœ¨ Parent.prototype ä¸Šé¢åˆ›å»ºå¤šä½™çš„å±æ€§**ã€‚ä¸æ­¤åŒæ—¶ï¼ŒåŸå‹é“¾è¿˜èƒ½ä¿æŒä¸å˜ï¼›å› æ­¤ï¼Œè¿˜èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ `instanceof` å’Œ `isPrototypeOf`ã€‚å¼€å‘äººå‘˜æ™®éè®¤ä¸ºå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿æ˜¯å¼•ç”¨ç±»å‹æœ€ç†æƒ³çš„ç»§æ‰¿èŒƒå¼ã€‚

**è¿™æ˜¯æœ€æˆç†Ÿçš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯ç°åœ¨åº“å®ç°çš„æ–¹æ³•**

## 7.æ··å…¥æ–¹å¼ç»§æ‰¿å¤šä¸ªå¯¹è±¡
ç±»ä¼¼äºç»„åˆç»§æ‰¿ï¼Œä½†æ˜¯å¯ä»¥åŒæ—¶ç»§æ‰¿å¤šä¸ªå¯¹è±¡
1.å‡å®šAä¸ºæƒ³ç»§æ‰¿çš„çˆ¶ç±»1ï¼ŒBä¸ºæƒ³ç»§æ‰¿çš„çˆ¶ç±»2
2.åœ¨å­ç±»ä¸­ç”¨callæ–¹æ³•æ‰§è¡ŒAï¼ŒBï¼Œå­ç±»å®ä¾‹å¯ä»¥è·å¾—çˆ¶ç±»1ï¼Œçˆ¶ç±»2çš„å±æ€§
3.åˆ©ç”¨åŸå‹å¼ç»§æ‰¿ï¼ŒæŠŠç»§æ‰¿çˆ¶ç±»1çš„å±æ€§çš„å¯¹è±¡è®¾ä¸ºå­ç±»çš„åŸå‹ï¼Œç”¨`Object.assign`æŠŠçˆ¶ç±»2åŸå‹çš„å±æ€§æ‹·è´åˆ°å­ç±»åŸå‹ä¸Šï¼Œè®©å­ç±»çš„æ‰€ç”¨å®ä¾‹éƒ½å¯ä»¥ç”¨çˆ¶ç±»2çš„æ–¹æ³•

```javascript
function MyClass() {
     SuperClass.call(this);
     OtherSuperClass.call(this);
}

// ç»§æ‰¿ä¸€ä¸ªç±»
MyClass.prototype = Object.create(SuperClass.prototype);
// æ··åˆå…¶å®ƒ
Object.assign(MyClass.prototype, OtherSuperClass.prototype);
// é‡æ–°æŒ‡å®šconstructor
MyClass.prototype.constructor = MyClass;

MyClass.prototype.myMethod = function() {
     // do something
};
```

`Object.assign`ä¼šæŠŠ `OtherSuperClass`åŸå‹ä¸Šçš„å‡½æ•°æ‹·è´åˆ° `MyClass`åŸå‹ä¸Šï¼Œä½¿ MyClass çš„æ‰€æœ‰å®ä¾‹éƒ½å¯ç”¨ OtherSuperClass çš„æ–¹æ³•ã€‚

## 8. Classçš„ç»§æ‰¿
### ç®€ä»‹
åšæ³•ï¼šClass å¯ä»¥é€šè¿‡`extends`å…³é”®å­—å®ç°ç»§æ‰¿

**å­ç±»å¿…é¡»åœ¨`constructor`æ–¹æ³•ä¸­è°ƒç”¨`super`æ–¹æ³•(çˆ¶ç±»çš„æ„é€ å‡½æ•°)**ï¼Œè¿™æ˜¯å› ä¸ºå­ç±»è‡ªå·±çš„`this`å¯¹è±¡ï¼Œå¿…é¡»å…ˆé€šè¿‡çˆ¶ç±»çš„æ„é€ å‡½æ•°å®Œæˆå¡‘é€ ï¼Œå¾—åˆ°ä¸çˆ¶ç±»åŒæ ·çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œç„¶åå†å¯¹å…¶è¿›è¡ŒåŠ å·¥ï¼ŒåŠ ä¸Šå­ç±»è‡ªå·±çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ã€‚å¦‚æœä¸è°ƒç”¨`super`æ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°`this`å¯¹è±¡ã€‚

```
å­ç±»this = çˆ¶ç±»å¡‘é€ +å­ç±»å¡‘é€ 
```

å¦‚æœå­ç±»æ²¡æœ‰å®šä¹‰`constructor`æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¢«**é»˜è®¤æ·»åŠ **

**åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œåªæœ‰è°ƒç”¨`super`ä¹‹åï¼Œæ‰å¯ä»¥ä½¿ç”¨`this`å…³é”®å­—**ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»å®ä¾‹çš„æ„å»ºï¼ŒåŸºäºçˆ¶ç±»å®ä¾‹ï¼Œåªæœ‰`super`æ–¹æ³•æ‰èƒ½è°ƒç”¨çˆ¶ç±»å®ä¾‹ã€‚

**å­ç±»ä¼šç»§æ‰¿çˆ¶ç±»çš„é™æ€æ–¹æ³•**

```javascript
class A {
  static hello() {
    console.log('hello world');
  }
}

class B extends A {
}

B.hello()  // hello world
```

### super å…³é”®å­—

`super`è¿™ä¸ªå…³é”®å­—ï¼Œæ—¢å¯ä»¥å½“ä½œå‡½æ•°ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥å½“ä½œå¯¹è±¡ä½¿ç”¨ï¼Œä½¿ç”¨`super`çš„æ—¶å€™ï¼Œå¿…é¡»æ˜¾å¼æŒ‡å®šæ˜¯ä½œä¸ºå‡½æ•°ã€è¿˜æ˜¯ä½œä¸ºå¯¹è±¡ä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

#### å½“ä½œå‡½æ•°ä½¿ç”¨

1. `super`ä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼Œä»£è¡¨**çˆ¶ç±»çš„æ„é€ å‡½æ•°**ï¼ŒES6 è¦æ±‚ï¼Œå­ç±»çš„æ„é€ å‡½æ•°å¿…é¡»æ‰§è¡Œä¸€æ¬¡`super`å‡½æ•°ï¼Œå¦‚æœä¸è°ƒç”¨`super`æ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°`this`å¯¹è±¡ã€‚

```javascript
class A {}
class B extends A {
  constructor() {
    super();
  }
}
```

2. æ³¨æ„ï¼Œ<font color='red'>`super`è™½ç„¶ä»£è¡¨äº†çˆ¶ç±»`A`çš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯å­ç±»`B`çš„å®ä¾‹ï¼Œå³`super`å†…éƒ¨çš„`this`æŒ‡çš„æ˜¯`B`çš„å®ä¾‹</font>ï¼Œå› æ­¤`super()`åœ¨è¿™é‡Œç›¸å½“äº`A.prototype.constructor.call(this)`ã€‚

```javascript
class A {
  constructor() {
    console.log(new.target.name);
  }
}
class B extends A {
  constructor() {
    super();
  }
}
new A() // A
new B() // B
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`new.target`æŒ‡å‘å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°ã€‚å¯ä»¥çœ‹åˆ°ï¼Œåœ¨`super()`æ‰§è¡Œæ—¶ï¼Œå®ƒæŒ‡å‘çš„æ˜¯å­ç±»`B`çš„æ„é€ å‡½æ•°ï¼Œè€Œä¸æ˜¯çˆ¶ç±»`A`çš„æ„é€ å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ`super()`å†…éƒ¨çš„`this`æŒ‡å‘çš„æ˜¯`B``

3. `super()`**åªèƒ½ç”¨åœ¨å­ç±»çš„æ„é€ å‡½æ•°**ä¹‹ä¸­

#### å½“ä½œå¯¹è±¡ä½¿ç”¨

1. åœ¨**æ™®é€šæ–¹æ³•ï¼ˆåŒ…æ‹¬constructorï¼‰**ä¸­ï¼ŒæŒ‡å‘**çˆ¶ç±»çš„åŸå‹å¯¹è±¡**ï¼›åœ¨**é™æ€æ–¹æ³•**ä¸­ï¼ŒæŒ‡å‘**çˆ¶ç±»**ã€‚

   ğŸ’¥æ³¨æ„ï¼Œåœ¨æ™®é€šæ–¹æ³•ä¸­ï¼Œç”±äº`super`æŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼Œæ‰€ä»¥<font color='red'>å®šä¹‰åœ¨çˆ¶ç±»å®ä¾‹ä¸Šçš„æ–¹æ³•æˆ–å±æ€§ï¼Œæ˜¯æ— æ³•é€šè¿‡`super`è°ƒç”¨çš„</font>

   ```javascript
   class A {
     constructor() {
       this.p = 2;
     }
   }
   A.prototype.x = 2;
   class B extends A {
     getValue () {
       console.log(super.p,super.x)
     }
   }
   
   let b = new B();
   b.getValue() // undefined 2
   ```

   ä¸Šé¢ä»£ç ä¸­ï¼Œ`p`æ˜¯çˆ¶ç±»`A`å®ä¾‹çš„å±æ€§ï¼Œxæ˜¯çˆ¶ç±»`A`åŸå‹çš„å±æ€§ï¼Œå¯ä»¥çœ‹å‡ºsuperåªèƒ½å¼•ç”¨åŸå‹ä¸Šçš„å±æ€§
   
2. åœ¨æ™®é€šæ–¹æ³•ä¸­é€šè¿‡`super`è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œ**<font color='red'>çˆ¶ç±»æ–¹æ³•å†…éƒ¨</font>çš„`this`æŒ‡å‘å½“å‰çš„å­ç±»å®ä¾‹**


```javascript
class A {
  constructor() {
    this.x = 1;
  }
}

class B extends A {
  constructor() {
    super();
    this.x = 2;
    super.x = 3;
    console.log(super.x); // undefined
    console.log(this.x); // 3
  }
}

let b = new B();
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`super.x`èµ‹å€¼ä¸º`3`ï¼Œè¿™æ—¶ç­‰åŒäºå¯¹`this.x`èµ‹å€¼ä¸º`3`ã€‚è€Œå½“è¯»å–`super.x`çš„æ—¶å€™ï¼Œè¯»çš„æ˜¯`A.prototype.x`ï¼Œæ‰€ä»¥è¿”å›`undefined`ã€‚

ğŸˆæ‰€ä»¥å¯ä»¥æ€»ç»“å¾—å‡ºï¼Œå½“æŠŠsuperä½œä¸ºå¯¹è±¡ä½¿ç”¨æ—¶ï¼š

ç›´æ¥ä½¿ç”¨`super`

- `super`çš„æŒ‡å‘ï¼šåœ¨æ™®é€šæ–¹æ³•ä¸­ï¼ŒæŒ‡å‘çˆ¶ç±»çš„åŸå‹ï¼Œåœ¨é™æ€æ–¹æ³•ä¸­ï¼ŒæŒ‡å‘çˆ¶ç±»ã€‚

é€šè¿‡`super`è°ƒç”¨çˆ¶ç±»æ–¹æ³•ï¼Œçˆ¶ç±»å†…éƒ¨`this`çš„æŒ‡å‘

- åœ¨æ™®é€šæ–¹æ³•ä¸­æŒ‡å‘å­ç±»å®ä¾‹ï¼Œåœ¨é™æ€æ–¹æ³•ä¸­æŒ‡å‘å­ç±»ï¼Œ

  ğŸ’¥æ³¨æ„ï¼š<font color='red'>å¦‚æœé€šè¿‡`super`å¯¹æŸä¸ªå±æ€§èµ‹å€¼</font>ï¼Œè¿™æ—¶`super`æŒ‡å‘ç­‰åŒäºé€šè¿‡`super`è°ƒç”¨çˆ¶ç±»æ–¹æ³•ï¼Œçˆ¶ç±»å†…éƒ¨`this`çš„æŒ‡å‘

```javascript
class A {}

class B extends A {
  constructor() {
    super();
    console.log(super); // æŠ¥é”™
  }
}
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`console.log(super)`å½“ä¸­çš„`super`ï¼Œæ— æ³•çœ‹å‡ºæ˜¯ä½œä¸ºå‡½æ•°ä½¿ç”¨ï¼Œè¿˜æ˜¯ä½œä¸ºå¯¹è±¡ä½¿ç”¨ï¼Œæ‰€ä»¥ JavaScript å¼•æ“è§£æä»£ç çš„æ—¶å€™å°±ä¼šæŠ¥é”™ã€‚è¿™æ—¶ï¼Œå¦‚æœèƒ½æ¸…æ™°åœ°è¡¨æ˜`super`çš„æ•°æ®ç±»å‹ï¼Œå°±ä¸ä¼šæŠ¥é”™ã€‚

```javascript
class A {}

class B extends A {
  constructor() {
    super();
    console.log(super.valueOf() instanceof B); // true
  }
}

let b = new B();
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`super.valueOf()`è¡¨æ˜`super`æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤å°±ä¸ä¼šæŠ¥é”™ã€‚åŒæ—¶ï¼Œç”±äº`super`ä½¿å¾—`this`æŒ‡å‘`B`çš„å®ä¾‹ï¼Œæ‰€ä»¥`super.valueOf()`è¿”å›çš„æ˜¯ä¸€ä¸ª`B`çš„å®ä¾‹ã€‚

æœ€åï¼Œç”±äºå¯¹è±¡æ€»æ˜¯ç»§æ‰¿å…¶ä»–å¯¹è±¡çš„ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ä»»æ„ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œä½¿ç”¨`super`å…³é”®å­—ã€‚

```javascript
var obj = {
  toString() {
    return "MyObject: " + super.toString();
  }
};

obj.toString(); // MyObject: [object Object]
```

### ç±»çš„ prototype å±æ€§å’Œ__proto__å±æ€§ 

ClassåŒæ—¶æœ‰`prototype`å±æ€§å’Œ`__proto__`å±æ€§ï¼Œå› æ­¤åŒæ—¶å­˜åœ¨ä¸¤æ¡ç»§æ‰¿é“¾ã€‚

ï¼ˆ1ï¼‰å­ç±»çš„`__proto__`å±æ€§ï¼Œè¡¨ç¤ºæ„é€ å‡½æ•°çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»ã€‚

ï¼ˆ2ï¼‰å­ç±»`prototype`å±æ€§çš„`__proto__`å±æ€§ï¼Œè¡¨ç¤ºæ–¹æ³•çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»çš„`prototype`å±æ€§ã€‚

### åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿

ä»¥å‰åŸç”Ÿæ„é€ å‡½æ•°æ˜¯æ— æ³•ç»§æ‰¿çš„ï¼Œå› ä¸ºåŸç”Ÿæ„é€ å‡½æ•°çš„`this`æ— æ³•ç»‘å®šï¼Œå¯¼è‡´å­ç±»æ— æ³•è·å¾—åŸç”Ÿæ„é€ å‡½æ•°çš„å†…éƒ¨å±æ€§

**ES5 æ˜¯å…ˆæ–°å»ºå­ç±»çš„å®ä¾‹å¯¹è±¡`this`ï¼Œå†å°†çˆ¶ç±»çš„å±æ€§æ·»åŠ åˆ°å®ä¾‹ä¸Š**ï¼Œç”±äºçˆ¶ç±»çš„å†…éƒ¨å±æ€§æ— æ³•è·å–ï¼Œå¯¼è‡´æ— æ³•ç»§æ‰¿ã€‚ES6 å…è®¸ç»§æ‰¿åŸç”Ÿæ„é€ å‡½æ•°å®šä¹‰å­ç±»ï¼Œ**å› ä¸º ES6 æ˜¯å…ˆæ–°å»ºçˆ¶ç±»çš„å®ä¾‹å¯¹è±¡`this`ï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®é¥°`this`ï¼Œä½¿å¾—çˆ¶ç±»çš„æ‰€æœ‰è¡Œä¸ºéƒ½å¯ä»¥ç»§æ‰¿**ã€‚

## æ€»ç»“

**ï¼ˆ1ï¼‰ä¸¥æ ¼æ¨¡å¼**

ç±»å’Œæ¨¡å—çš„å†…éƒ¨ï¼Œ**é»˜è®¤å°±æ˜¯ä¸¥æ ¼æ¨¡å¼**ï¼Œæ‰€ä»¥ä¸éœ€è¦ä½¿ç”¨`use strict`æŒ‡å®šè¿è¡Œæ¨¡å¼ã€‚

**ï¼ˆ2ï¼‰ä¸å­˜åœ¨æå‡**

**ç±»ä¸å­˜åœ¨å˜é‡æå‡**ï¼ˆhoistï¼‰ï¼Œè¿™æ˜¯å› ä¸º**å¿…é¡»ä¿è¯å­ç±»åœ¨çˆ¶ç±»ä¹‹åå®šä¹‰**ã€‚

**ï¼ˆ3ï¼‰ç»§æ‰¿çš„å·®åˆ«**

`ES5`çš„ç»§æ‰¿å®è´¨ä¸Šæ˜¯**å…ˆåˆ›å»ºå­ç±»çš„å®ä¾‹å¯¹è±¡**ï¼Œç„¶åå†å°†çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•æ·»åŠ åˆ°thisä¸Š

`ES6`çš„ç»§æ‰¿æœ‰æ‰€ä¸åŒï¼Œå…ˆæ–°å»ºçˆ¶ç±»çš„å®ä¾‹å¯¹è±¡`this`ï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®é¥°`this`ï¼Œä½¿å¾—çˆ¶ç±»çš„æ‰€æœ‰è¡Œä¸ºéƒ½å¯ä»¥ç»§æ‰¿