### 目的

为了解决频繁的事件触发

### 防抖

#### 原理

在触发事件后重置定时器，事件一定会在触发后n秒才执行

```javascript
function debounce(fn,wait){
	var timer;
	return function(){
		clearTimeout(timer);
		setTimeout(()=>{
            fn.apply(this,arguments)
        },wait)
	}
}
div.onmousemove = debounce(fn,wait)
```

但是有些时候想实现，立刻执行，执行之后停止n秒才可以重新触发事件

```javascript
function debounce(fn,wait,immediate){
	var timer;
	return function(){
		if(timer)clearTimeout(timer)
		if(immediate){
			var callNow = !timer;
			timer = setTimeout(()=>{
				timer = null
			},wait)
			if(callNow)fn.apply(this,arguments)
        }else{
			setTimeout(()=>{
				fn.apply(this,arguments)
			},wait)
        }
	}
}
```

