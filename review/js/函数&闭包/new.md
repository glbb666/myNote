# 调用new的时候会做什么

当使用 `new` 运算符调用一个函数时，JavaScript 引擎会执行以下几个步骤来创建一个新的对象：

1. **创建一个新对象**
2. **设置新对象的原型：**
   新创建的对象的原型（`__proto__`）会被设置为构造函数的 `prototype` 属性。这一步建立了新对象与构造函数原型之间的继承关系。
3. **绑定 `this` 并调用构造函数：**
   使用新创建的对象作为 `this` 调用构造函数。此时，构造函数的代码会执行，并且 `this` 会指向新创建的对象。构造函数可以对这个对象进行属性赋值或者其他操作。
4. **返回新对象：**
   如果构造函数显式地返回一个对象（非 `null` 或 `undefined` 的对象），那么这个返回的对象会代替 `new` 操作返回的结果。否则，`new` 操作会自动返回步骤 1 中创建的对象。

# 箭头函数为什么不能用作构造函数

这是因为箭头函数没有自己的 `this` 绑定，它们的 `this` 是从它们的定义环境中继承的

1. **箭头函数没有 `[[Construct]]` 内部方法：**
   `[[Construct]]` 内部方法是构造函数所特有的。箭头函数没有这个内部方法，因此不能被用作构造函数。
2. **箭头函数没有 `prototype` 属性：**
   箭头函数没有 `prototype` 属性，这意味着它们不能为新创建的对象分配原型。
